<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Retrieve group options</title>
    <script src="/js/jquery-3.4.1.min.js"></script>
    <script>
    $(document).ready(function() {
        $('input[name="ngroup"]').on('change', function() {
            changeInputDisplay();
        });
        if($('input[name="ngroup"]:checked').length > 0){
            generateOneField();
        }
    });

    function changeInputDisplay(){
        if (document.getElementById('one').checked) {
            generateOneField();
        }else if(document.getElementById('two').checked){
            generateTwoField();
        }else{
            let queryDescription = document.getElementById('queryDescription');
            while(queryDescription.hasChildNodes()){
                queryDescription.removeChild(queryDescription.lastChild);
            }
            let chooseMethodContainer = document.getElementById('chooseMethodContainer');
            while(chooseMethodContainer.hasChildNodes()){
                chooseMethodContainer.removeChild(chooseMethodContainer.lastChild);
            }
            window.location.href = "/list_groups";
        }
    }

    function generateOneField(){
        let method = document.getElementById("retrieveChoices").value;
<!--        let des = document.getElementById('queryDescription');-->
<!--        if(des.hasChildNodes()){-->
<!--            des.removeChild(des.lastChild);-->
<!--        }-->
<!--        let desText = document.createTextNode("Query group by: ");-->
<!--        des.appendChild(desText);-->

<!--        // add dropdown for retrieve by name or mRID-->
<!--        var container = document.getElementById("chooseMethodContainer");-->
<!--        var combobox = document.getElementById("retrieveChoices");-->
<!--        if(combobox){-->
<!--            container.removeChild(combobox);-->
<!--        }-->

<!--        let select_method =  document.createElement("select");-->
<!--        select_method.id = 'retrieveChoices';-->
<!--        select_method.name = 'retrieveChoices';-->
<!--        select_method.required = true;-->
<!--        select_method.multiple = false;-->
<!--        select_method.style = "width: 100px";-->
<!--        select_method.onchange = function() {methodSelected(1)};-->
<!--        container.appendChild(select_method);-->

<!--        let option1 = document.createElement("option");-->
<!--        option1.value = 'name';-->
<!--        option1.select = true;-->
<!--        option1.appendChild(document.createTextNode('name'));-->
<!--        select_method.appendChild(option1);-->

<!--        let option2 = document.createElement("option");-->
<!--        option2.value = 'mRID';-->
<!--        option2.appendChild(document.createTextNode('mRID'));-->
<!--        select_method.appendChild(option2);-->
    }

    function generateTwoField(){
        let method = document.getElementById("retrieveChoices").value;
<!--        let des = document.getElementById('queryDescription');-->
<!--        if(des.hasChildNodes()){-->
<!--            des.removeChild(des.lastChild);-->
<!--        }-->
<!--        let desText = document.createTextNode("Query group by: ");-->
<!--        des.appendChild(desText);-->
    }

    function methodSelected(numberOfField){
        let method = document.getElementById("retrieveChoices").value;

    }
    </script>
</head>
<body>
    <a href="/">Home</a>&nbsp;&nbsp;
    <a href="/create_group">Create Group</a><br>
    <div id="numberOfGroups">
        <p>Retrieve:</p>
        <input type="radio" id="one" name="ngroup" value="oneGroup" checked>
        <label for="one">1 group</label><br>
        <input type="radio" id="two" name="ngroup" value="twoGroups">
        <label for="two">2 groups</label><br>
        <input type="radio" id="all" name="ngroup" value="allGroups">
        <label for="all">all groups</label><br>
    </div>
    <p id="queryDescription">Query group by:</p>
    <div id="chooseMethodContainer">
        <select id="retrieveChoices" name="retrieveChoices" required style="width:100px" onchange="methodSelected">
            <option value="name" selected>name</option>
            <option value="mRID">mRID</option>
        </select>
    </div>
    <form id="retrieveContainer">

    </form>
</body>
</html>